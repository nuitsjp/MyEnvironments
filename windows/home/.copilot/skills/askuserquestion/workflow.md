# AskUserQuestion Workflow

GitHub CopilotでAskUserQuestionツールの代替として使用するワークフロー。

## Checklist

```
- [ ] Step 1: 質問の必要性を判断
- [ ] Step 2: 質問を構造化
- [ ] Step 3: 回答を待機
- [ ] Step 4: 回答の確認
```

## Table of Contents

- [目的](#目的)
- [ワークフロー](#ワークフロー)
- [基本フォーマット](#基本フォーマット)
- [質問テンプレート](#質問テンプレート)
- [ベストプラクティス](#ベストプラクティス)
- [注意事項](#注意事項)

## 目的

Claude CodeのAskUserQuestionツールが使えない環境（GitHub Copilot等）で、ユーザーとの対話的な情報収集を実現する。

## ワークフロー

### Step 1: 質問の必要性を判断

以下の場合に質問を行う：
- 要件が曖昧で明確化が必要
- 複数の実装アプローチがあり選択が必要
- ユーザーの好みや制約を確認したい
- 重要な決定についてユーザーの承認が必要

### Step 2: 質問を構造化

質問は以下の形式で構造化する：

```markdown
---
## 🤔 質問があります

**カテゴリ:** [要件確認 | 実装方針 | 技術選択 | 確認事項]

**質問:** [具体的な質問内容]

**背景:** [なぜこの質問が必要か]

**選択肢:**
1. **[選択肢名]** - [説明と影響]
2. **[選択肢名]** - [説明と影響]
3. **[選択肢名]** - [説明と影響]
4. **その他** - 自由に入力してください

**推奨:** [ある場合は推奨オプションとその理由]

**回答方法:** 番号または内容を入力してください。
---
```

### Step 3: 回答を待機

質問を出力した後、ユーザーからの回答を待つ。
回答が得られたら、その内容に基づいて作業を継続する。

### Step 4: 回答の確認

回答を受け取ったら、理解が正しいか確認する：

```markdown
---
## ✅ 確認

「[ユーザーの回答の要約]」で進めます。よろしいですか？

- はい → 作業を続行
- いいえ → 再度質問
---
```

## 基本フォーマット

質問が必要な場合、以下の形式で出力する：

```markdown
---
## 🤔 質問があります

**質問:** [質問内容]

**選択肢:**
1. [選択肢1] - [説明]
2. [選択肢2] - [説明]
3. [選択肢3] - [説明]
4. その他（自由入力）

**回答方法:** 番号または内容を入力してください。
---
```

## 質問テンプレート

### 単一選択の質問

```markdown
---
## 🤔 質問があります

**質問:** どのライブラリを使用しますか？

**選択肢:**
1. **React** - 既存プロジェクトとの親和性が高い
2. **Vue** - 学習コストが低い
3. **Svelte** - パフォーマンスが優れている
4. **その他** - 自由に入力してください

**回答方法:** 番号または内容を入力してください。
---
```

### 複数選択の質問

```markdown
---
## 🤔 質問があります（複数選択可）

**質問:** どの機能を実装しますか？

**選択肢:**
1. **認証機能** - ログイン/ログアウト
2. **データ保存** - ローカルストレージ連携
3. **通知機能** - プッシュ通知
4. **その他** - 自由に入力してください

**回答方法:** 該当する番号をカンマ区切りで入力してください（例: 1,2）
---
```

### Yes/No の質問

```markdown
---
## 🤔 確認

**質問:** テストファイルも作成しますか？

**選択肢:**
1. **はい** - ユニットテストを同時に作成
2. **いいえ** - 後で作成する

**回答方法:** 番号または「はい」「いいえ」で回答してください。
---
```

### 自由入力の質問

```markdown
---
## 🤔 質問があります

**質問:** プロジェクト名を教えてください。

**回答方法:** プロジェクト名を入力してください。
---
```

## ベストプラクティス

1. **質問は具体的に** - 曖昧な質問は避け、明確な選択肢を提示
2. **背景を説明** - なぜその質問が必要か説明する
3. **推奨を示す** - 可能な場合は推奨オプションを提示
4. **選択肢は2-4個** - 多すぎると選択が困難
5. **「その他」を含める** - 想定外の回答に対応
6. **回答方法を明記** - どのように回答すべきか明確に

## 注意事項

- このスキルはGitHub Copilot環境でのみ使用
- Claude Codeでは標準のAskUserQuestionツールを使用すること
- 質問は作業の流れを止めるため、本当に必要な場合のみ使用
